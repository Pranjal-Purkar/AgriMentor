<div class="py-5">

  <!-- Welcome Section -->
  <div>
    <h2 class="text-2xl font-semibold text-gray-800">
      Welcome, Dr. Priya Sharma
    </h2>
    <p class="text-gray-500">Crop Management & Soil Science</p>
  </div>

  <!-- Summary Cards -->
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mt-6">
    @for (card of summary; track card.title) {
      <div class="bg-white border rounded-xl p-4 shadow-sm">
        <p class="text-gray-500 text-sm">{{ card.title }}</p>

        <p class="text-2xl font-semibold text-gray-900 mt-2">
          {{ card.value }}
        </p>

        <p class="text-xs text-gray-500 mt-1">{{ card.sub }}</p>

        <div class="mt-3 h-1 rounded-full w-full" [ngClass]="card.color"></div>
      </div>
    }
  </div>

  <!-- Consultation Requests Section -->
  <div class="bg-white rounded-xl border shadow-sm mt-8 p-6">

    <p class="text-gray-700 font-medium mb-3">Consultation Requests</p>

    <!-- Tabs -->
    <div class="flex bg-gray-100 rounded-full p-1 mb-5">
      @for (tab of tabs; track tab.key) {
        <button
          (click)="changeTab(tab.key)"
          class="flex-1 text-sm py-1.5 rounded-full"
          [ngClass]="{
            'bg-white shadow font-medium': activeTab === tab.key,
            'text-gray-600': activeTab !== tab.key
          }"
        >
          {{ tab.label }}
        </button>
      }
    </div>

    <!-- Request Item -->
    @for (req of filteredRequests(); track req.farmer) {

      <div class="border rounded-xl p-4 bg-white mb-4 flex gap-4 items-start">

        <!-- Avatar -->
        <div class="w-12 h-12 bg-green-700 text-white flex items-center justify-center rounded-full">
          {{ req.farmer[0] }}
        </div>

        <div class="flex-1">
          <p class="text-gray-900 font-medium">{{ req.farmer }}</p>
          <p class="text-sm text-gray-500">{{ req.location }}</p>

          <p class="text-sm mt-1">
            <span class="font-medium">Crop:</span> {{ req.crop }}
          </p>

          <p class="text-gray-600 text-sm mt-1">
            {{ req.issue }}
          </p>

          <p class="text-xs text-gray-500 mt-1">{{ req.date }}</p>
        </div>

        <div class="text-right space-y-2">

          @if (req.status === 'new') {
            <button class="text-sm px-3 py-1 bg-blue-600 text-white rounded-md">
              Accept & Chat
            </button>
          } @else {
            <button class="text-sm px-3 py-1 border rounded-md">View Details</button>
          }

        </div>

      </div>
    }
  </div>

  <!-- Recent Activity -->
  <div class="bg-white rounded-xl border shadow-sm mt-8 p-6">
    <p class="text-gray-700 font-medium mb-3">Recent Activity</p>

    @for (activity of recentActivity; track activity.text) {
      <div class="flex items-start gap-3 mb-3">
        <div class="w-2 h-2 bg-blue-600 rounded-full mt-2"></div>
        <div>
          <p class="text-gray-800 text-sm">{{ activity.text }}</p>
          <p class="text-xs text-gray-500">{{ activity.time }}</p>
        </div>
      </div>
    }
  </div>

  <!-- This Month Stats -->
  <div class="bg-white rounded-xl border shadow-sm mt-8 p-6">
    <p class="text-gray-700 font-medium mb-3">This Month</p>

    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-sm">
      <div>
        <p class="text-gray-500">Consultations</p>
        <p class="font-semibold text-gray-900">{{ monthStats.consultations }}</p>
      </div>
      <div>
        <p class="text-gray-500">Reports Submitted</p>
        <p class="font-semibold text-gray-900">{{ monthStats.reports }}</p>
      </div>
      <div>
        <p class="text-gray-500">Avg. Response Time</p>
        <p class="font-semibold text-gray-900">{{ monthStats.responseTime }}</p>
      </div>
      <div>
        <p class="text-gray-500">Satisfaction Rate</p>
        <p class="font-semibold text-gray-900">{{ monthStats.satisfaction }}</p>
      </div>
    </div>
  </div>

  <!-- Profile Section -->
  <div class="bg-white rounded-xl border shadow-sm mt-8 p-6">
    <p class="text-gray-700 font-medium mb-3">Profile</p>

    <div class="grid grid-cols-2 gap-5 text-sm">
      <div>
        <p class="text-gray-500">Expertise</p>
        <p class="font-medium">Crop Management & Soil Science</p>
      </div>

      <div>
        <p class="text-gray-500">Total Reviews</p>
        <p class="font-medium">89 reviews</p>
      </div>

      <div>
        <p class="text-gray-500">Member Since</p>
        <p class="font-medium">January 2023</p>
      </div>
    </div>

    <button class="mt-6 px-4 py-2 border rounded-lg w-full">Edit Profile</button>
  </div>

</div>
