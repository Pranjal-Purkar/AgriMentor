<div class="w-full mx-auto mt-8 bg-white shadow-md rounded-lg p-6">

  <!-- Header -->
  <div class="flex items-center justify-between mb-6">
    <h2 class="text-xl font-semibold text-gray-800">Farmer Profile</h2>

    <button
      (click)="toggleEdit()"
      class="px-4 py-1.5 text-sm rounded-md"
      [ngClass]="editMode? 'bg-gray-700 text-white' : 'bg-green-700 text-white'"
    >
      {{ editMode ? 'Cancel' : 'Edit' }}
    </button>
  </div>

  <!-- VIEW MODE -->
  @if (!editMode) {
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

      <div>
        <p class="text-sm text-gray-500">First Name</p>
        <p class="font-semibold text-gray-800">{{ farmerProfile?.firstName }}</p>
      </div>

      <div>
        <p class="text-sm text-gray-500">Last Name</p>
        <p class="font-semibold text-gray-800">{{ farmerProfile?.lastName }}</p>
      </div>

      <div>
        <p class="text-sm text-gray-500">Email</p>
        <p class="font-semibold text-gray-800">{{ farmerProfile?.email }}</p>
      </div>

      <div>
        <p class="text-sm text-gray-500">Phone</p>
        <p class="font-semibold text-gray-800">{{ farmerProfile?.phone }}</p>
      </div>

      <div>
        <p class="text-sm text-gray-500">Location</p>
        <p class="font-semibold text-gray-800">{{ farmerProfile?.location }}</p>
      </div>

      <div>
        <p class="text-sm text-gray-500">Soil Type</p>
        <p class="font-semibold text-gray-800">{{ farmerProfile?.soilType }}</p>
      </div>

      <div>
        <p class="text-sm text-gray-500">Farm Size (acres)</p>
        <p class="font-semibold text-gray-800">{{ farmerProfile?.farmSize }}</p>
      </div>

      <div class="md:col-span-2">
        <p class="text-sm text-gray-500">Primary Crops</p>
        <p class="font-semibold text-gray-800">{{ farmerProfile?.primaryCrops }}</p>
      </div>

    </div>
  }

  <!-- EDIT MODE -->
  @else {
    <form [formGroup]="profileForm" class="grid grid-cols-1 md:grid-cols-2 gap-6">

      <div>
        <label class="text-sm text-gray-600">First Name</label>
        <input formControlName="firstName"
          class="w-full mt-1 px-3 py-2 border rounded-lg" />
      </div>

      <div>
        <label class="text-sm text-gray-600">Last Name</label>
        <input formControlName="lastName"
          class="w-full mt-1 px-3 py-2 border rounded-lg" />
      </div>

      <div>
        <label class="text-sm text-gray-600">Email</label>
        <input formControlName="email" type="email" [disabled]="true"
          class="w-full mt-1 px-3 py-2 border rounded-lg" />
      </div>

      <div>
        <label class="text-sm text-gray-600">Phone</label>
        <input formControlName="phone"
          class="w-full mt-1 px-3 py-2 border rounded-lg" />
      </div>

      <div>
        <label class="text-sm text-gray-600">Location</label>
        <input formControlName="location"
          class="w-full mt-1 px-3 py-2 border rounded-lg" />
      </div>

      <div>
        <label class="text-sm text-gray-600">Soil Type</label>
        <input formControlName="soilType"
          class="w-full mt-1 px-3 py-2 border rounded-lg" />
      </div>

      <div>
        <label class="text-sm text-gray-600">Farm Size</label>
        <input formControlName="farmSize" type="number"
          class="w-full mt-1 px-3 py-2 border rounded-lg" />
      </div>

      <div class="md:col-span-2">
        <label class="text-sm text-gray-600">Primary Crops</label>
        <input formControlName="primaryCrops"
          class="w-full mt-1 px-3 py-2 border rounded-lg" />
      </div>

      <!-- Save Button -->
      <div class="md:col-span-2">
        <button
          (click)="saveChanges()"
          class="w-full mt-4 bg-green-700 text-white py-2 rounded-lg hover:bg-green-800 transition">
          Save Changes
        </button>
      </div>

    </form>
  }

</div>
